# ëŒë‹¤ë¥¼ ì‚¬ìš©í•´ì•¼ ë˜ëŠ” ì´ìœ 

### ëŒë‹¤ì™€ ìŠ¤íŠ¸ë¦¼ì˜ ê°œë…

---

ë“¤ì–´ê°€ê¸° ì•ì„œì„œ, ëŒë‹¤ì‹ê³¼, ëŒë‹¤í•˜ë©´ ë¹¼ë†“ì„ ìˆ˜ ì—†ëŠ” ìŠ¤íŠ¸ë¦¼ì˜ ê°œë…ì„ ì •ë¦¬í•´ë³´ì.

**ëŒë‹¤ì‹**ì€ í•˜ë‚˜ì˜ í‘œí˜„ë²•ìœ¼ë¡œ ìµëª… í•¨ìˆ˜ë¥¼ ê°„ê²°í•˜ê²Œ í‘œí˜„í•˜ëŠ” ë°©ë²•ì´ë‹¤. 

â†’ ìë°” 8ë¶€í„° ë„ì…ëœ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì´ë‹¤. 

í‘œí˜„ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

```java
(ë§¤ê°œë³€ìˆ˜1, ë§¤ê°œë³€ìˆ˜2, ...) -> { êµ¬í˜„ }
```

**ìŠ¤íŠ¸ë¦¼**ì´ë€ ë§ˆì°¬ê°€ì§€ë¡œ ìë°” 8ë¶€í„° ë„ì…ëœ ê¸°ëŠ¥ìœ¼ë¡œ, ì»¬ë ‰ì…˜ì„ ì²˜ë¦¬í•˜ê³  ë‹¤ì–‘í•œ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” APIì´ë‹¤. 

ì£¼ë¡œ ì»¬ë ‰ì…˜ì˜ ì €ì¥ëœ ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ì°¸ì¡°í•˜ì—¬ ëŒë‹¤ì‹ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. 

ê·¸ë ‡ê¸° ë•Œë¬¸ì— ëŒë‹¤ì™€ ìŠ¤íŠ¸ë¦¼ì€ ë°€ì ‘í•œ ê´€ê³„ë¥¼ ê°€ì§€ê³  ìˆë‹¤.

ì•„ë˜ì˜ ì²¨ë¶€í•œ ì‚¬ì§„ì„ ë³´ë©´ ì´í•´ê°€ ì‰½ë‹¤. 

ë‹¤ìŒ ì‚¬ì§„ì€, ì¼ë°˜ì ìœ¼ë¡œ ì»¬ë ‰ì…˜ ìš”ì†Œë¥¼ ì²˜ë¦¬í• ë•Œ ì‚¬ìš©í•˜ëŠ” `for`ë¬¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì™¸ë¶€ ë°˜ë³µì, ê·¸ë¦¬ê³  `Stream`ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë‚´ë¶€ ë°˜ë³µìì´ë‹¤.

![ë°˜ë³µì´ ì™¸ë¶€ì—ì„œ ì¼ì–´ë‚¨ (forë¬¸)](../static/image/lambda-stream/Untitled.png)

ë°˜ë³µì´ ì™¸ë¶€ì—ì„œ ì¼ì–´ë‚¨ (forë¬¸)

![ë°˜ë³µì´ ë‚´ë¶€ì—ì„œ ì¼ì–´ë‚¨ (Stream)](../static/image/lambda-stream/Untitled_1.png)

ë°˜ë³µì´ ë‚´ë¶€ì—ì„œ ì¼ì–´ë‚¨ (Stream)

### ìŠ¤íŠ¸ë¦¼ì˜ ì£¼ìš” ê¸°ëŠ¥

---

- í•„í„°ë§(`Filtering`): ì£¼ì–´ì§„ ì¡°ê±´ì— ë§ëŠ” ìš”ì†Œë¥¼ ì„ íƒ
- ë§¤í•‘(`Mapping`): ìš”ì†Œë¥¼ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë³€í™˜í•˜ê±°ë‚˜ ì¶”ì¶œ
- ì •ë ¬(`Sorting`): ìš”ì†Œë¥¼ ì •ë ¬
- ë¦¬ë“€ì‹±(`Reducing`): ìš”ì†Œë“¤ì„ ê²°í•©í•˜ì—¬ ë‹¨ì¼ ê²°ê³¼ë¥¼ ë„ì¶œ
- ì§‘ê³„(`Aggregating`): ìš”ì†Œë“¤ì„ ê·¸ë£¹í™”í•˜ê±°ë‚˜ í†µê³„ ì •ë³´ë¥¼ ê³„ì‚°

> ìì„¸í•œ ê±´ ì•„ë˜ì˜ ëŒë‹¤ì™€ ìŠ¤íŠ¸ë¦¼ì˜ ì˜ˆì œë¥¼ í†µí•´ì„œ ì•Œì•„ë³´ë„ë¡ í•˜ì.
> 

### ëŒë‹¤ì˜ ì¥ë‹¨ì 

---

ê·¸ëŸ¬ë©´, ëŒë‹¤ë¥¼ ì™œ ì‚¬ìš©í•´ì•¼ë˜ëŠ”ì§€ ë˜ ë¬´ìŠ¨ ì¥ì ì´ ìˆëŠ”ì§€ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì. 

ê°œë°œìë¼ë©´ ëˆ„êµ¬ë‚˜ ì‚¬ìš©í•˜ëŠ”(?) `ChatGPT`ì—ê²Œ ë¬¼ì–´ë³´ì•˜ë‹¤. 

![â€œìë°” ëŒë‹¤ì˜ ì¥ì â€ì´ë¼ê³  ChatGPTì—ê²Œ ë¬¼ì–´ë³¸ ë‹µì•ˆì´ë‹¤.](../static/image/lambda-stream/Untitled_2.png)

â€œìë°” ëŒë‹¤ì˜ ì¥ì â€ì´ë¼ê³  ChatGPTì—ê²Œ ë¬¼ì–´ë³¸ ë‹µì•ˆì´ë‹¤.

ì •ë¦¬í•˜ìë©´, 

- ê°„ê²°í•˜ê³  ì½ê¸° ì‰¬ìš´ ì½”ë“œ
- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì§€ì›
- ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±
- ë‹¤ì¤‘ ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œì˜ í™œìš©ì„±
- ì»¬ë ‰ì…˜ ì²˜ë¦¬ì˜ ìš©ì´ì„±

ë“±ë“± ì—¬ëŸ¬ê°€ì§€ ì¥ì ë“¤ ë•Œë¬¸ì— ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. 

ìœ„ì˜ ì¥ì  ì¤‘ì—ì„œë„ í•„ìëŠ” íŠ¹íˆ ì½”ë“œì˜ ê°„ê²°ì„±, ê°€ë…ì„± ë•Œë¬¸ì— ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. 

ë°˜ë©´ì—, **ëŒë‹¤ì˜ ë‹¨ì **ì„ ì•Œì•„ë³´ì. 

![â€œìë°” ëŒë‹¤ì˜ ë‹¨ì â€ì´ë¼ê³  ChatGPTì—ê²Œ ë¬¼ì–´ë³¸ ë‹µì•ˆì´ë‹¤.](../static/image/lambda-stream/Untitled_3.png)

â€œìë°” ëŒë‹¤ì˜ ë‹¨ì â€ì´ë¼ê³  ChatGPTì—ê²Œ ë¬¼ì–´ë³¸ ë‹µì•ˆì´ë‹¤.

- ê°€ë…ì„±ì˜ ì €í•˜
- ë””ë²„ê¹…ì˜ ì–´ë ¤ì›€
- ì œí•œëœ ê¸°ëŠ¥
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€
- ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œ

í•„ìê°€ ëŠë¼ê¸°ì—ëŠ” ìœ„ì˜ ë‹¨ì  ì¤‘ì—ì„œ *ì œí•œëœ ê¸°ëŠ¥, ë””ë²„ê¹…ì˜ ì–´ë ¤ì›€*ì´ ê°€ì¥ í° ë‹¨ì ì´ë¼ê³  ìƒê°í•œë‹¤.

í•˜ì§€ë§Œ, ì´ ë‹¨ì ì´ ê°œë°œí•˜ëŠ”ë° ìˆì–´ ì¹˜ëª…ì ì´ì§„ ì•Šë‹¤ê³  ìƒê°í•œë‹¤.   **

<aside>
âš ï¸ ì œí•œëœ ê¸°ëŠ¥ : ë³‘ë ¬ í”„ë¡œê·¸ë˜ë° ë°©ì‹ì´ë¼ ë©¤ë²„ ë³€ìˆ˜ì˜ ì¬ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥ í•˜ë‹¤ëŠ” ë‹¨ì 

ì˜ˆë¥¼ ë“¤ë©´, ì»¬ë ‰ì…˜ì˜ ë‚´ë¶€ ë°˜ë³µìì— ì˜í•´ì„œ ì‹¤í–‰ì´ ë˜ê¸° ë•Œë¬¸ì— ë©¤ë²„ë³€ìˆ˜ì˜ ì¬ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. (`final`ë¡œ ì •ì ë³€ìˆ˜ë¡œëŠ” ì‚¬ìš©ì´ ê°€ëŠ¥)

</aside>

### ëŒë‹¤ì™€ ìŠ¤íŠ¸ë¦¼ ì˜ˆì œ

---

ì´ ê¸€ì„ ë³´ëŠ” ë…ìëŠ” ëŒ€ë¶€ë¶„ì´ ê°œë°œìì¼ ê²ƒ ê°™ì•„ ì½”ë“œë¥¼ ë³´ëŠ”ê²Œ ë” ì´í•´ê°€ ë¹ ë¥¼ê±°ë¼ê³ (?) ìƒê°ë˜ì–´ ì˜ˆì œë¥¼ í†µí•´ ì„¤ëª…í•˜ê³ ì í•œë‹¤. 

**ìŠ¤íŠ¸ë¦¼ API** ì¤‘ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì„ ì˜ˆì œë¡œ ì‘ì„±í•˜ì˜€ë‹¤. (ì˜ˆì œëŠ” `JUnit5`ë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‘ì„±í•˜ì˜€ë‹¤. )

ì˜ˆì‹œì— í•„ìš”í•œ **ìƒí’ˆ(`Item`)**ì´ë¼ëŠ” ê°ì²´ë¥¼ ë§Œë“¤ì—ˆë‹¤. 

```java
//Item.java

@Data
@AllArgsConstructor
public class Item {

    private Long id; // ì•„ì´ë””
    private String itemName; // ìƒí’ˆëª…
    private Integer price; // ìƒí’ˆê°€ê²©
    private Integer quantity; // ìƒí’ˆìˆ˜ëŸ‰
}
```

í…ŒìŠ¤íŠ¸ì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ì „ì—­ ë³€ìˆ˜ë¡œ ì„ ì–¸ì„ í•˜ê³  ì˜ˆì œë¥¼ ì‘ì„±í•˜ê² ë‹¤.

```java
static List<Item> items = Arrays.asList(
      new Item(1L, "ì±…A", 10000, 10),
      new Item(2L, "ì±…B", 20000, 20),
      new Item(3L, "ìë™ì°¨A", 1000000, 3),
      new Item(4L, "ìë™ì°¨B", 2000000, 5),
      new Item(5L, "ìŒì‹A", 8000, 150),
      new Item(6L, "ìŒì‹B", 9000, 200),
      new Item(7L, "ìŒì‹C", 10000, 300),
      new Item(8L, "ë…¸íŠ¸ë¶A", 100000, 20),
      new Item(9L, "ë…¸íŠ¸ë¶B", 40000, 40)
);
```

1. **ë‹¨ìˆœ ì¶œë ¥**
    
    ë¨¼ì €, ì¼ë°˜ì ì¸ ì¶œë ¥ë°©ì‹ì„ ì˜ˆì œë¡œ ë“¤ì—ˆë‹¤. (`for`)
    
    ```java
    //ItemPrintServiceTest.java
    
    @Test
    void ì¼ë°˜_ì•„ì´í…œ_ì¶œë ¥_V_1() {
        for (int i = 0; i < items.size(); i++) {
            System.out.println("item = " + items.get(i));
        }
    }
    
    @Test
    void ì¼ë°˜_ì•„ì´í…œ_ì¶œë ¥_V_2() {
        for (Item item : items) {
            System.out.println("item = " + item);
        }
    }
    ```
    
    ìœ„ì˜ ì½”ë“œëŠ” ê¸°ì¡´ì— ì‚¬ìš©í–ˆë˜ ì¼ë°˜ì ì¸ ë°˜ë³µë¬¸ì´ë‹¤. 
    
    ê·¸ëŸ¼, ì´ì œ ëŒë‹¤ë¥¼ ì´ìš©í•œ ì˜ˆì œë¥¼ ì‚´í´ë³´ì. 
    
    ```java
    //ItemPrintServiceTest.java
    
    @Test
    void ëŒë‹¤_ì•„ì´í…œ_ì¶œë ¥_V_1() {
        items.forEach(item -> System.out.println("item = " + item));
    }
    
    @Test
    void ëŒë‹¤_ì•„ì´í…œ_ì¶œë ¥_ì°¸ì¡°_V_2() {
        items.forEach(this::print); // ë©”ì„œë“œ ì°¸ì¡° : ë§¤ê°œë³€ìˆ˜ê°€ ë™ì¼í•  ë•Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. 
    }
    
    void print(Item item) {
        System.out.println("item = " + item);
    }
    ```
    
    ëŒë‹¤ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œ ì¤‘ `ëŒë‹¤_ì•„ì´í…œ_ì¶œë ¥_ì°¸ì¡°_V_2` ë¥¼ ë³´ë©´ ì¼ë°˜ì ì¸ ì½”ë“œë³´ë‹¤ í›¨ì”¬ ë” ê°„ê²°í•´ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
    
    <aside>
    ğŸ’¡ ëŒë‹¤ì‹ì—ì„œì˜ ë©”ì†Œë“œ **ì°¸ì¡°**ëŠ” ë¶ˆí•„ìš”í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ìƒëµ í•˜ëŠ” ê²ƒì´ë‹¤. 
    
    [ì°¸ê³ ] [https://inpa.tistory.com/entry/JAVA8-â˜•-ëŒë‹¤ì‹ì„-ë”-ì§§ê²Œ-ë©”ì†Œë“œ-ì°¸ì¡°Method-Reference](https://inpa.tistory.com/entry/JAVA8-%E2%98%95-%EB%9E%8C%EB%8B%A4%EC%8B%9D%EC%9D%84-%EB%8D%94-%EC%A7%A7%EA%B2%8C-%EB%A9%94%EC%86%8C%EB%93%9C-%EC%B0%B8%EC%A1%B0Method-Reference)
    
    </aside>
    
2. `filter()` - í•„í„° 
    
    `filter()`ëŠ” `return`ê°’ì´ `true`ì¸ê²ƒë“¤ë§Œ ì¶”ì¶œí•˜ëŠ” ë©”ì†Œë“œì´ë‹¤.
    
    ì•„ë˜ëŠ”, ìŠ¤íŠ¸ë¦¼ APIì˜ `filter()` ë©”ì†Œë“œ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì‘ì„±í•˜ì˜€ë‹¤. 
    
    ```java
    //ItemFilterServiceTest.java
    
    @Test
    void for_ìƒí’ˆëª…ì´_ìë™ì°¨ì¸ê²ƒë“¤ë§Œ_í•„í„°ë§() {
    		//given
        List<Item> cars = new ArrayList<>();
    
    		//when
        for (Item item : items) {
            if (item.getItemName().contains("ìë™ì°¨")) {
    						cars.add(item);
    				}
        }
    
        //then
        assertThat(cars).hasSize(2);
    }
    
    @Test
    void ìŠ¤íŠ¸ë¦¼_ìƒí’ˆëª…ì´_ìë™ì°¨ì¸ê²ƒë“¤ë§Œ_í•„í„°ë§() {
        //when
        List<Item> cars = items.stream().filter(item -> item.getItemName().contains("ìë™ì°¨")).collect(toList());
    
        //then
        assertThat(cars).hasSize(2);
    }
    ```
    
    `for_ìƒí’ˆëª…ì´_ìë™ì°¨ì¸ê²ƒë“¤ë§Œ_í•„í„°ë§()` ë¥¼ ë³´ë©´ `for`ë¬¸ì•ˆì— `if`ë¬¸ì´ ë˜ ë“¤ì–´ê°€ ì½”ë“œê°€ ë‹¤ì†Œ ë³µì¡í•´ ë³´ì¼ ìˆ˜ ìˆë‹¤.
    
    ë°˜ë©´ì—, `ìŠ¤íŠ¸ë¦¼_ìƒí’ˆëª…ì´_ìë™ì°¨ì¸ê²ƒë“¤ë§Œ_í•„í„°ë§()`ë¥¼ ë³´ë©´ ê¸°ì¡´ì˜ 3ì¤„ ì´ìƒì˜ ì½”ë“œì—ì„œ 1ì¤„ ì§œë¦¬ ì½”ë“œë¡œ ë°”ë€ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
    
    <aside>
    ğŸ’¡ í•„ìëŠ” ìë°” ì»¨ë²¤ì…˜ì´ ì½”ë“œ ë¬¸í™”ì— ìˆì–´ì„œ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. 
    
    ìë°” ì»¨ë²¤ì…˜ì˜ ê·œì¹™ ì¤‘ â€**`indent`(ì¸ë´íŠ¸, ë“¤ì—¬ì“°ê¸°)Â `depth`ë¥¼ 2ê°€ ë„˜ì§€ì•Šë„ë¡ êµ¬í˜„í•œë‹¤. 1ê¹Œì§€ë§Œ í—ˆìš©â€** ê·œì¹™ì´ ìˆëŠ”ë° 
    
    **ìœ„ì˜ ì˜ˆì œë¥¼ ë³´ë©´** ê¸°ë³¸ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í–ˆì„ ë•ŒëŠ” ìœ„ì˜ ì»¨ë²¤ì…˜ì„ ìœ„ë°˜í•˜ì§€ë§Œ, ëŒë‹¤ë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨ë²¤ì…˜ì„ ì§€í‚¬ ìˆ˜ ìˆë‹¤!
    
    [ì°¸ê³ ] [https://discphy-blog.tistory.com/1](https://discphy-blog.tistory.com/1)
    
    </aside>
    
    `filter()`ë¥¼ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©í•œ ì˜ˆì œì´ë‹¤. 
    
    ```java
    //ItemFilterServiceTest.java
    
    @Test
    void ìƒí’ˆëª…ì´_ìŒì‹ì´ë©´ì„œ_ê°€ê²©ì´_8500ì›_ì´ìƒì¸ê²ƒë“¤ë§Œ_í•„í„°ë§() {
        //when
        List<Item> foods = items.stream()
                .filter(item -> item.getItemName().contains("ìŒì‹"))
                .filter(item -> item.getPrice() > 8500)
                .collect(toList());
        /*
         * ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•´ë„ ëœë‹¤.
         * .filter(item -> item.getItemName().contains("ìŒì‹") && item.getPrice() > 8500))
         */
    
        //then
        assertThat(foods).hasSize(2);
    }
    ```
    
    ìœ„ì™€ê°™ì´ `filter()`ë¥¼ í•œë²ˆ ë¿ì´ ì•„ë‹Œ ì—¬ëŸ¬ ë²ˆ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. 
    
    ë§ˆì§€ë§‰ìœ¼ë¡œ, ì»¬ë ‰ì…˜ì˜ ì¤‘ë³µ ì œê±°ë„ ê°€ëŠ¥í•˜ë‹¤. `distinct()`ë¥¼ ì‚¬ìš©í•˜ë©´ ì¤‘ë³µ ì œê±°ê°€ ê°€ëŠ¥í•˜ë‹¤. 
    
    ```java
    //ItemFilterServiceTest.java
    
    @Test
    void ìƒí’ˆê°€ê²©_í•„í„°ë§_ì¤‘ë³µ_ì œê±°() {
    	//when
        List<Integer> prices = items.stream()
                .map(Item::getPrice) // ë’¤ì—ì„œ ì„¤ëª…í•  map() ë©”ì†Œë“œì´ë©° ì°¸ì¡°ë¥¼ ì´ìš©í•˜ì˜€ë‹¤.
                .distinct()
                .collect(toList());
    
        //then
        assertThat(prices).hasSize(8); // 10000ì› ì¤‘ë³µ ì œê±° 9 - 1 = 8
        assertThat(prices).containsExactly(10000, 20000, 1000000, 2000000, 8000, 9000, 100000, 40000);
    }
    ```
    

1. `map()` - ë§¤í•‘
    
    `map()`ì€ ë§ê·¸ëŒ€ë¡œ ë§¤í•‘ì„ í•˜ëŠ” ê¸°ëŠ¥ì´ë©°, ì»¬ë ‰ì…˜ì˜ ìš”ì†Œê°’ì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ë¼ê³  ë³´ë©´ëœë‹¤.
    
    ì‹¤ì œë¡œ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ìŠ¤íŠ¸ë¦¼ APIì´ë‹¤. 
    
    ìƒí’ˆëª…ë§Œì„ ì¶”ì¶œí•˜ëŠ” ê°„ë‹¨í•œ ëŒë‹¤ì˜ ì˜ˆì œë¶€í„° ì†Œê°œí•˜ê² ë‹¤. 
    
    ```java
    //ItemMappingServiceTest.java
    
    @Test
    void ëŒë‹¤_ìƒí’ˆëª…ë§Œ_ë‚˜ì—´() {
    		//when
        List<String> itemNames = items.stream()
                .map(Item::getItemName)
                .collect(Collectors.toList());
    
        //then
        assertThat(itemNames).containsExactly("ì±…A",
                "ì±…B",
                "ìë™ì°¨A",
                "ìë™ì°¨B",
                "ìŒì‹A",
                "ìŒì‹B",
                "ìŒì‹C",
                "ë…¸íŠ¸ë¶A",
                "ë…¸íŠ¸ë¶B");
    }
    ```
    
    ì•„ë˜ì™€ ê°™ì´, ì»¬ë ‰ì…˜ ìš”ì†Œì˜ ê°ì²´ ë©”ì†Œë“œ ë¿ë§Œì•„ë‹ˆë¼ ì§ì ‘ ë©”ì†Œë“œë¥¼ ë§Œë“¤ì–´ ë§¤í•‘ë„ ê°€ëŠ¥í•˜ë‹¤. (ì •ì  ë©”ì†Œë“œë„ ê°€ëŠ¥)
    
    ```java
    //ItemMappingServiceTest.java
    
    @Test
    void for_ìƒí’ˆëª…ì´_ì±…ì¸_ìƒí’ˆì„_ìˆ˜ëŸ‰ì„_0ê°œë¡œ() {
    		//given
        List<Item> books = new ArrayList<>();
    
        //when
        for (Item item : items) {
            if (item.getItemName().contains("ì±…")) {
                books.add(soldOutItem(item));
            }
        }
    
    	//then
        assertThat(books).hasSize(2);
        assertThat(books).extracting("quantity").containsOnly(0);
    }
    
    @Test
    void ëŒë‹¤_ìƒí’ˆëª…ì´_ì±…ì¸_ìƒí’ˆì„_ìˆ˜ëŸ‰ì„_0ê°œë¡œ() {
        //when
        List<Item> books = items.stream()
                .filter(item -> item.getItemName().contains("ì±…"))
                .map(this::soldOutItem)
                .collect(Collectors.toList());
    
    		//then
        assertThat(books).hasSize(2);
        assertThat(books).extracting("quantity").containsOnly(0);
    }
    
    private Item soldOutItem(Item item) {
        item.setQuantity(0);
        return item;
    }
    ```
    

1. `sorted()` - ì •ë ¬
    
    
    í…ŒìŠ¤íŠ¸ì˜ ë©”ì†Œë“œ ëª…ì²˜ëŸ¼ **ìƒí’ˆì„ ê°€ê²© ìˆœìœ¼ë¡œ ì •ë ¬ í›„ ìµœì†Ÿê°’ì„ ì¶”ì¶œ**í•˜ëŠ” ì˜ˆì œì´ë‹¤. 
    
    ```java
    //ItemSortServiceTest.java
    
    @Test
    void ì •ë ¬_ìƒí’ˆê°€ê²©ìˆœ_ì •ë ¬_í›„_ìµœì†Ÿê°’_V_1() {
    		//given
        items.sort(new Comparator<Item>() {
            @Override
            public int compare(Item o1, Item o2) {
                return o1.getPrice().compareTo(o2.getPrice());
            }
        });
    
        //when
        Item firstItem = items.get(0);
        System.out.println("firstItem = " + firstItem);
    
        //then
        assertThat(firstItem.getId()).isEqualTo(5L);
        assertThat(firstItem.getItemName()).isEqualTo("ìŒì‹A");
        assertThat(firstItem.getPrice()).isEqualTo(8000);
    }
    
    @Test
    void ì •ë ¬_ìƒí’ˆê°€ê²©ìˆœ_ì •ë ¬_í›„_ìµœì†Ÿê°’_V_2() {
    		//given
        items.sort((o1, o2) -> o1.getPrice().compareTo(o2.getPrice()));
    
        //when
        Item firstItem = items.get(0);
        System.out.println("firstItem = " + firstItem);
    
        //then
        assertThat(firstItem.getId()).isEqualTo(5L);
        assertThat(firstItem.getItemName()).isEqualTo("ìŒì‹A");
        assertThat(firstItem.getPrice()).isEqualTo(8000);
    }
    
    @Test
    void ì •ë ¬_ìƒí’ˆê°€ê²©ìˆœ_ì •ë ¬_í›„_ìµœì†Ÿê°’_V_3() {
    		//given
        items.sort(Comparator.comparing(Item::getPrice));
    
        //when
        Item firstItem = items.get(0);
        System.out.println("firstItem = " + firstItem);
    
        //then
        assertThat(firstItem.getId()).isEqualTo(5L);
        assertThat(firstItem.getItemName()).isEqualTo("ìŒì‹A");
        assertThat(firstItem.getPrice()).isEqualTo(8000);
    }
    
    @Test
    void ìŠ¤íŠ¸ë¦¼_ì •ë ¬_ìƒí’ˆê°€ê²©ìˆœ_ì •ë ¬_í›„_ìµœì†Ÿê°’() {
        //when
        Item firstItem = items.stream().min(Comparator.comparing(Item::getPrice)).get();
        System.out.println("firstItem = " + firstItem);
    
        //then
        assertThat(firstItem.getId()).isEqualTo(5L);
        assertThat(firstItem.getItemName()).isEqualTo("ìŒì‹A");
        assertThat(firstItem.getPrice()).isEqualTo(8000);
    }
    ```
    
    4ê°œì˜ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë‹¤ ë™ì¼í•œ ê¸°ëŠ¥ì„ í•˜ëŠ” ê²ƒì´ë‹¤. 
    
    ìœ„ì—ì„œ ì•„ë˜ë¡œ ì˜ˆì œì˜ ì½”ë“œê°€ ë”ìš± ê°„ê²°í•´ì§€ëŠ” ê²ƒì„ ëŠë‚„ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. 
    
    ì´ê²Œë°”ë¡œ ëŒë‹¤ì˜ ìœ„ë ¥ì´ ì•„ë‹ê¹Œë¼ëŠ” ìƒê°ì´ë“ ë‹¤. 
    
2. `collect()` - ì§‘ê³„
    
    ì˜ˆì œë¥¼ ìœ„í•´ ìƒí’ˆ ê°ì²´ì— ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•˜ì˜€ë‹¤. 
    
    ```java
    //ItemCategory.java
    
    @Data
    @AllArgsConstructor
    public class ItemCategory {
    
        private Long id;
        private String itemName;
        private Category category;
        private Integer price;
        private Integer quantity;
    }
    ```
    
    ```java
    //Category.java
    
    public enum Category {
        BOOK, CAR, FOOD, LAPTOP
    }
    ```
    
    ì´ë²ˆì—ëŠ”, ìƒí’ˆì„ ì¹´í…Œê³ ë¦¬ ë³„ë¡œ ê·¸ë£¹ì„ ë§Œë“¤ì–´ë³´ëŠ” ì˜ˆì œì´ë‹¤. 
    
    ```java
    //ItemAggregationServiceTest.java
    
    static List<ItemCategory> items = Arrays.asList(
            new ItemCategory(1L, "ì±…A", BOOK, 10000, 10),
            new ItemCategory(2L, "ì±…B", BOOK, 20000, 20),
            new ItemCategory(3L, "ìë™ì°¨A", CAR, 1000000, 3),
            new ItemCategory(4L, "ìë™ì°¨B", CAR, 2000000, 5),
            new ItemCategory(5L, "ìŒì‹A", FOOD, 8000, 150),
            new ItemCategory(6L, "ìŒì‹B", FOOD, 9000, 200),
            new ItemCategory(7L, "ìŒì‹C", FOOD, 10000, 300),
            new ItemCategory(8L, "ë…¸íŠ¸ë¶A", LAPTOP, 100000, 20),
            new ItemCategory(9L, "ë…¸íŠ¸ë¶B", LAPTOP, 40000, 40)
    );
    
    @Test
    void ì¼ë°˜_ìƒí’ˆ_ì¹´í…Œê³ ë¦¬_ê·¸ë£¹í•‘() {
        //given
        Map<Category, List<ItemCategory>> itemGroups = new HashMap<>();
    
        for (Category category : Category.values()) {
            itemGroups.put(category, new ArrayList<>());
        }
    
        //when
        for (ItemCategory item : items) {
            itemGroups.get(item.getCategory()).add(item);
        }
    
        //then
        assertThat(itemGroups.keySet()).contains(BOOK, CAR, FOOD, LAPTOP);
        assertThat(itemGroups.get(BOOK).size()).isEqualTo(2);
        assertThat(itemGroups.get(CAR).size()).isEqualTo(2);
        assertThat(itemGroups.get(FOOD).size()).isEqualTo(3);
        assertThat(itemGroups.get(BOOK).size()).isEqualTo(2);
    }
    
    @Test
    void ìŠ¤íŠ¸ë¦¼_ìƒí’ˆ_ì¹´í…Œê³ ë¦¬_ê·¸ë£¹í•‘() {
        //when
        Map<Category, List<ItemCategory>> itemGroups = items.stream().collect(groupingBy(ItemCategory::getCategory));
    
        //then
        assertThat(itemGroups.keySet()).contains(BOOK, CAR, FOOD, LAPTOP);
        assertThat(itemGroups.get(BOOK).size()).isEqualTo(2);
        assertThat(itemGroups.get(CAR).size()).isEqualTo(2);
        assertThat(itemGroups.get(FOOD).size()).isEqualTo(3);
        assertThat(itemGroups.get(BOOK).size()).isEqualTo(2);
    }
    ```
    
    ì¹´í…Œê³ ë¦¬ ë³„ë¡œ ê·¸ë£¹ì„ ì§“ê¸° ìœ„í•´ì„  `for`ë¬¸ì„ ì—¬ëŸ¬ë²ˆ ì¨ì•¼ë˜ëŠ” ì´ìŠˆê°€ìˆì§€ë§Œ, 
    
    `ìŠ¤íŠ¸ë¦¼_ìƒí’ˆ_ì¹´í…Œê³ ë¦¬_ê·¸ë£¹í•‘()`ë³´ë©´ ì•Œê² ì§€ë§Œ, ìŠ¤íŠ¸ë¦¼ APIì™€ `Collectors.groupingBy()`ì„ ì´ìš©í•˜ì—¬ í•œì¤„ë¡œ ê·¸ë£¹í•‘ì„ í•  ìˆ˜ ìˆë‹¤.
    

ìœ„ì˜ ì˜ˆì œ ì´ì™¸ì—ë„ ìŠ¤íŠ¸ë¦¼ APIê°€ â€œì˜¤ ì´ê±° ê¹Œì§€ ê°€ëŠ¥í•´?â€ë¼ëŠ” ë¬¼ìŒí‘œê°€ ëœ° ì •ë„ë¡œ ë§ì€ ê¸°ëŠ¥ì„ ì œê³µí•˜ê³  ìˆë‹¤. 

<aside>
ğŸ’¡ **ì¶œì²˜**ì˜ ê³µì‹ë¬¸ì„œë¥¼ ë³´ë©´ ë§ì€ ìŠ¤íŠ¸ë¦¼ APIë“¤ì´ ìˆë‹¤.

</aside>

ìë°”ê°€ ê³„ì† ì—…ê·¸ë ˆì´ë“œ ë˜ë©´ì„œ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§ì´ ì¶”êµ¬í•˜ê³  ê¶Œì¥í•˜ê³ ìˆë‹¤.

ê·¸ë˜ì„œ, ëŒë‹¤ì™€ ìŠ¤íŠ¸ë¦¼ì€ ê¶Œì¥ì´ ì•„ë‹Œ í•„ìˆ˜ê°€ ë˜ê³ ìˆë‹¤. 

ê·¸ë ‡ì§€ë§Œ ë˜ ë‚¨ìš©ì€ í•˜ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì— ì˜ í•™ìŠµí•˜ê³  í™œìš©í–ˆìœ¼ë©´ ì¢‹ê² ë‹¤. 

ìœ„ì˜ ì˜ˆì œ ì†ŒìŠ¤ë“¤ì€ ê°œì¸ ê¹ƒí—ˆë¸Œì— ì—…ë¡œë“œ í•˜ì˜€ìœ¼ë‹ˆ ì°¸ê³  ë°”ë€ë‹¤. 

[ì¶œì²˜]

[https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html)

[https://steady-coding.tistory.com/598](https://steady-coding.tistory.com/598)

[Github]

[https://github.com/discphy/stream-example](https://github.com/discphy/stream-example)